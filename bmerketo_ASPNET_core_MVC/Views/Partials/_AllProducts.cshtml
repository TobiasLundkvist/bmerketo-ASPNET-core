@using bmerketo_ASPNET_core_MVC.Services;
@inject ProductService productService 

@{
    var products = await productService.GetAllAsync();

}


<section class="all-products">
    <div class="container">
        <h1 class="all-product-title">ALL PRODUCTS</h1>
        <div class="collection-grid">

            @if (products != null)
            {
                foreach (var product in products)
                {
                    <a asp-controller="products" asp-action="details" asp-route-id="@product.Id" class="collection-item">
                        <img src=@product.ImageUrl alt="@product.Title">
                        <div class="body">
                            <div class="title">@product.Title</div>
                            <div class="info">
                                <div class="price">
                                    <i class="old-price">@product.Price</i>
                                    <i class="new-price">@product.OldPrice</i>
                                </div>
                                <i class="add-cart fa-regular fa-cart-plus"></i>
                            </div>
                        </div>
                    </a>
                }
            }
        </div>
    </div>
</section>
